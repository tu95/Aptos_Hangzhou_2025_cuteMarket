# 📖 cuteMarket 用户使用指南

## 🎯 快速开始

### 1️⃣ 准备工作

**需要准备**:
- ✅ Aptos 钱包（推荐 Martian 或 Pontem）
- ✅ 测试币（至少 0.1 APT）

**安装钱包**:
1. 访问 [Martian Wallet](https://martianwallet.xyz/) 或 [Pontem Wallet](https://pontem.network/wallet)
2. 安装浏览器插件
3. 创建钱包并保存助记词

**获取测试币**:
1. 访问 [Aptos Faucet](https://aptos.dev/network/faucet)
2. 输入你的钱包地址
3. 点击"Mint"领取测试币（通常 1 APT）

---

## 2️⃣ 连接钱包

### 步骤

1. **打开网站**: 访问 cuteMarket 平台
   ```
   http://localhost:5173
   ```

2. **点击连接按钮**: 右上角的"Connect Wallet"

3. **选择钱包**: 
   - Martian Wallet
   - Pontem Wallet
   - 其他支持的钱包

4. **授权连接**: 在钱包弹窗中点击"Connect"

5. **连接成功**: 右上角显示你的钱包地址
   ```
   例如: 0xe726...84ac
   ```

### 截图示例

```
┌─────────────────────────────────────┐
│  cuteMarket        [0xe726...84ac] │ ← 显示钱包地址
└─────────────────────────────────────┘
```

---

## 3️⃣ 浏览项目

### 首页项目列表

首页显示所有预测市场项目：

```
┌─────────────────────────────────┐
│ Trump Steps Down        [开放中] │
│ 投注选项: 下台 | 继续呆着        │
│ 总投注额: 0.00 APT              │
│ 截止日期: 2024-12-25            │
└─────────────────────────────────┘
```

**项目信息包括**:
- ✅ 项目名称
- ✅ 投注选项
- ✅ 总投注额（实时更新）
- ✅ 截止日期
- ✅ 项目状态
  - 🟢 **开放中** - 可以下注
  - 🟡 **已关闭** - 等待开奖
  - 🔵 **已开奖** - 显示获胜选项

### 查看项目详情

1. 点击任意项目卡片
2. 进入项目详情页
3. 查看详细信息和赔率

---

## 4️⃣ 下注流程

### 完整步骤

#### 步骤 1: 选择项目
在首页点击你想要下注的项目

#### 步骤 2: 选择选项
在详情页点击一个投注选项（如"下台"或"继续呆着"）

```
┌─────────────────────────────────┐
│  下台              x2.50     ← 赔率
│  当前投注额: 0.05 APT           │
│  市场占比: 40.0%                │
└─────────────────────────────────┘
     ↑ 点击选择
```

选中后会有**紫色边框**高亮

#### 步骤 3: 输入金额
在"投注金额"区域输入你想下注的金额

```
┌─────────────────────────────────┐
│ 输入金额 (APT)                   │
│ [0.1          ]  ← 输入框        │
│ 最少 0.01 APT                    │
└─────────────────────────────────┘
```

**金额要求**:
- ✅ 最小: 0.01 APT
- ✅ 建议: 0.1 APT 起
- ⚠️ 确保钱包有足够余额（包括 Gas 费）

#### 步骤 4: 查看预期收益

输入金额后，系统会自动计算并显示：

```
┌──────────────────────────────────────────┐
│  投注金额     当前赔率    预期收益   盈利率 │
│   0.1 APT    x2.45      0.25 APT  +145%  │
└──────────────────────────────────────────┘
```

**显示内容**:
- 📊 **投注金额**: 你输入的金额
- 📈 **当前赔率**: 根据投注池计算的赔率
- 💰 **预期收益**: 如果获胜能得到多少
- 📊 **盈利率**: 收益百分比

⚠️ **注意**: 实际收益会扣除 2% 平台手续费

#### 步骤 5: 确认下注

点击"下注 X APT"按钮

```
┌─────────────────┐
│ 下注 0.1 APT    │ ← 点击
└─────────────────┘
```

**按钮状态**:
- 🟢 **可用** (紫色): 可以下注
- 🔴 **禁用** (灰色): 
  - 未连接钱包
  - 未选择选项
  - 正在提交中

#### 步骤 6: 钱包确认

钱包会弹出确认窗口：

```
┌────────────────────────────────┐
│ Martian Wallet                 │
│                                │
│ cuteMarket 请求交易:            │
│                                │
│ Function: place_bet            │
│ Amount: 0.1 APT               │
│ Gas: ~0.0001 APT              │
│                                │
│ [ 拒绝 ]        [ 确认 ] ← 点击│
└────────────────────────────────┘
```

**交易详情**:
- **Function**: `place_bet` (下注函数)
- **Amount**: 你的下注金额
- **Gas**: 交易手续费（通常 < 0.001 APT）

点击"确认"批准交易

#### 步骤 7: 等待确认

交易提交到链上，通常需要 **3-5 秒**

```
┌─────────────────────────────┐
│ ⏳ 提交中...                 │
└─────────────────────────────┘
```

#### 步骤 8: 下注成功

交易确认后显示成功消息：

```
┌──────────────────────────────────────────┐
│ ✅ 下注成功！                              │
│ 已在选项 "下台" 上投注 0.1 APT             │
└──────────────────────────────────────────┘
```

**页面自动更新**:
- ✅ 投注池金额增加
- ✅ 赔率实时变化
- ✅ 预期收益更新

---

## 5️⃣ 查看实时数据

### 投注池实时更新

**自动刷新**:
- ⏱️ 每 10 秒自动从链上获取最新数据
- 🔄 你或其他人下注后自动更新

**显示位置**:
1. **首页卡片**: 总投注额
2. **详情页头部**: 总投注额
3. **选项卡片**: 各选项投注额
4. **统计面板**: 项目统计

### 赔率计算规则

**公式**:
```
奖池 = 总投注额 × (1 - 2%)
赔率 = 奖池 / 该选项投注额
```

**示例**:

假设项目有 2 个选项：
- 选项 A: 100 APT (66.7%)
- 选项 B: 50 APT (33.3%)
- 总投注: 150 APT

**计算**:
```
奖池 = 150 × 0.98 = 147 APT

选项 A 赔率 = 147 / 100 = x1.47
选项 B 赔率 = 147 / 50 = x2.94
```

**你投注 10 APT 在选项 B**:
```
新选项 B 池 = 50 + 10 = 60 APT
新总池 = 150 + 10 = 160 APT
新奖池 = 160 × 0.98 = 156.8 APT

你的预期收益 = (10 / 60) × 156.8 = 26.13 APT
盈利率 = (26.13 - 10) / 10 = +161%
```

---

## 6️⃣ 开奖结果

### 查看获胜选项

项目结束后，管理员会结算并公布结果：

**首页显示**:
```
┌─────────────────────────────────┐
│ Trump Steps Down      [已开奖]  │
│ 下台 🏆 | 继续呆着              │  ← 获胜选项带🏆
│ 总投注额: 1.50 APT              │
└─────────────────────────────────┘
```

**详情页显示**:
```
┌────────────────────────────────┐
│ 🏆 开奖结果                     │
│ 获胜选项: 下台                  │
└────────────────────────────────┘
```

### 奖金自动分配

**分配规则**:
1. 只有下注**获胜选项**的用户能获得奖金
2. 按照**下注比例**分配
3. 扣除 **2% 平台手续费**

**奖金公式**:
```
用户奖金 = (用户投注 / 获胜池总额) × 奖池
```

**自动发放**:
- ✅ 结算时自动转账到你的钱包
- ✅ 无需手动领取
- ✅ 可在钱包中查看余额增加

---

## 7️⃣ 常见问题

### Q1: 最小下注金额是多少？
**A**: 0.01 APT（约 1,000,000 Octas）

### Q2: 需要支付多少 Gas 费？
**A**: 通常 < 0.001 APT（约 $0.01）

### Q3: 赔率会变化吗？
**A**: 会！随着更多人下注，投注池变化，赔率实时调整

### Q4: 什么时候开奖？
**A**: 项目结束时间到达后，管理员会手动结算

### Q5: 输了会怎样？
**A**: 投注金额归入奖池，分配给获胜者

### Q6: 中奖后怎么领奖？
**A**: 自动发放到你的钱包，无需操作

### Q7: 可以取消下注吗？
**A**: 不可以，下注后无法撤回（链上不可逆）

### Q8: 为什么显示"已关闭"？
**A**: 项目已过截止时间，不能再下注

### Q9: 数据多久更新一次？
**A**: 每 10 秒自动刷新，下注后立即刷新

### Q10: 支持哪些钱包？
**A**: Martian、Pontem 等所有 Aptos 钱包

---

## 8️⃣ 安全提示

### ⚠️ 重要提醒

1. **保护助记词**
   - ❌ 永远不要分享助记词
   - ✅ 安全备份到离线位置

2. **验证网址**
   - ✅ 确认是官方网站
   - ❌ 谨防钓鱼网站

3. **测试网 vs 主网**
   - 🧪 当前在测试网
   - 💰 使用的是测试币（无真实价值）

4. **理性投注**
   - 📊 了解风险
   - 💡 只投入可承受的金额

5. **交易确认**
   - 👀 仔细检查交易详情
   - ✅ 确认金额和函数正确

---

## 9️⃣ 使用技巧

### 💡 Pro Tips

1. **选择时机**
   - 早期下注可能获得更好赔率
   - 但要承担更高不确定性

2. **分散投注**
   - 可以在多个项目分散风险
   - 不要把所有 APT 投在一个选项

3. **关注赔率**
   - 高赔率 = 少人投注 = 更高收益
   - 低赔率 = 多人看好 = 更稳妥

4. **及时下注**
   - 注意截止时间
   - 预留时间等待交易确认

5. **跟踪数据**
   - 观察投注池变化趋势
   - 参考市场共识

---

## 🔗 相关链接

- **官方网站**: http://localhost:5173
- **合约浏览器**: https://explorer.aptoslabs.com/account/0xe726a89a870375b2ff603505df02e9d9e412b999186df6ad46292a42069c84ac?network=testnet
- **Martian Wallet**: https://martianwallet.xyz/
- **Pontem Wallet**: https://pontem.network/wallet
- **Aptos Faucet**: https://aptos.dev/network/faucet
- **技术文档**: 查看 FEATURES.md

---

## 📞 获取帮助

如果遇到问题：
1. 检查钱包连接状态
2. 确认有足够的测试币
3. 查看浏览器控制台错误
4. 参考 QUICKSTART.md 文档

祝你使用愉快，预测准确！🎉

